function VLf(a){if(a.D)return a.D;a.D=[];var b=iRb(a);a.D=Jc(b,function(c){var d=rne(a,c);if(H(d,12))return new sX(null,ritz_api.RitzModelApi.getNamedRangeIdForWorkbookRange(H(d,12)));c=a.V.Wc(gf.xa(),ritz_api.RitzModelApi.getWorkbookRangeById(c,!1));return new sX(Tk(c),null)});return a.D}function WLf(a,b,c){return Ny(V9a(Py(Ly(a).Kg),Py(Ly(b).Kg),c))}function XLf(a){var b=a.C.cloneNode(!1);a.qa().Lr(b,a.C);return b}
function YLf(a,b){var c=b.getContext("2d"),d=oM(a.D),e=a.D.jc(),f=qO(a.D),h=rO(a.D);e=e?d.width-f:0;var k=d.height-h;b.width=a.C.width;b.height=a.C.height;Ylc(a.C,c,0,0,0,0,d.width,h);Ylc(a.C,c,e,h,e,h,f,k)}function ZLf(a,b,c){lJ.call(this,131);this.D=a;this.J=b;this.C=c}x(ZLf,lJ);ZLf.prototype.Qd=function(){var a=new QFb;I(a,1,this.D);I(a,4,this.C);var b=npe(this.J);I(a,3,b);return a};function $Lf(a,b){lJ.call(this,40);this.C=b}A($Lf,lJ);$Lf.prototype.i4=function(){shb.Kb()};$Lf.prototype.Qd=function(){var a=new yDb;I(a,1,this.C);return a};$Lf.prototype.ah=Vi;$Lf.prototype.gk=n("Filter view deleted");function aMf(a,b){lJ.call(this,132);this.C=a;this.D=b}x(aMf,lJ);aMf.prototype.Qd=function(){var a=new SFb;I(a,1,this.C);I(a,2,this.D);return a};aMf.prototype.ah=n(!1);function bMf(a,b,c){lJ.call(this,41);this.C=b;this.D=c}A(bMf,lJ);bMf.prototype.Qd=function(){var a=new ADb;I(a,1,this.C);I(a,2,this.D);return a};bMf.prototype.ah=Vi;bMf.prototype.gk=n("Filter view duplicated");function cMf(a,b,c){lJ.call(this,43);this.D=b;this.C=c}A(cMf,lJ);cMf.prototype.Qd=function(){var a=new yF;I(a,1,this.D);a.Ld(this.C);return a};cMf.prototype.ah=Vi;cMf.prototype.gk=function(){return"Filter view renamed to "+this.C};function dMf(a,b,c,d){lJ.call(this,70);this.O=a.yc();this.D=b;this.J=c;this.C=d}A(dMf,lJ);dMf.prototype.Qd=function(){var a=new HEb;I(a,1,this.O);I(a,4,this.D);var b=npe(this.J);I(a,3,b);return a};dMf.prototype.gk=function(){return"Filter range updated to "+(this.C+".")};function eMf(a,b,c){b=c||b;a=a.OMb;return U('<div class="'+V("waffle-filter-bar-rangepill")+" "+V("goog-inline-block")+'" tabindex="0"><span class="'+V("waffle-filter-bar-rangepill-range")+" "+V("goog-inline-block")+'"></span>'+S(gpe({enabled:"true",eg:"waffle-filter-bar-rangepill-close",hidden:a},b))+"</div>")};function fMf(a,b,c,d,e){R.call(this,e);this.F=a;this.H=c;this.C=b;this.D=d}x(fMf,R);fMf.prototype.Ca=function(){this.Cb(Iw(eMf,{OMb:this.D}));this.qa().He(this.Ha("waffle-filter-bar-rangepill-range"),gMf(this))};fMf.prototype.Ja=function(){R.prototype.Ja.call(this);this.getHandler().og(this.Na(),xl,this.L);if(!this.D){var a=new Jv("",new Hv,this.qa());this.Ia(a);var b=this.Ha("waffle-filter-bar-rangepill-close");a.Xa(b);hw(b,"Remove",void 0);this.getHandler().listen(a,"action",this.J)}};
fMf.prototype.L=function(a){a.target!=this.Ha("waffle-filter-bar-rangepill-close")&&this.dispatchEvent(new ql("Qh",this))};fMf.prototype.J=function(a){this.dispatchEvent(new ql("Rh",this));a.stopPropagation()};function gMf(a){return Pne(a.H,a.C)?Qne(a.H,a.C,!1):"#REF"};function hMf(){var a='<div class="'+V("waffle-filter-bar-range-section")+'"><span id="waffle-filter-bar-range-label" class="'+V("waffle-filter-bar-header")+" "+V("waffle-filter-bar-range-label")+" "+V("goog-inline-block")+'">';a=a+"Ranges:"+('</span><div class="'+V("waffle-filter-bar-range-filter-pills-container")+" "+V("goog-inline-block")+'"></div><div class="'+V("waffle-filter-bar-add-range-filter-button")+" "+V("goog-inline-block")+'">');a=a+"Add new range"+('</div><input class="'+V("jfk-textinput")+
" "+V("waffle-filter-bar-range-pill-input")+'" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+V("waffle-filter-bar-range-section-space-eater")+'"></div></div>');return U(a)};function iMf(a,b,c,d){R.call(this,d);this.J=a;this.O=b;this.R=c;this.L=new R;this.Ia(this.L);this.H=new Jv(void 0,mz.getInstance(),d);this.Ia(this.H);this.F=new Ey(void 0,d);this.Ia(this.F);this.C="waffle-filter-bar-range-filter-pill-view";this.D=null;this.V=!1}x(iMf,R);p=iMf.prototype;
p.Ca=function(){this.Cb(Iw(hMf));this.L.Xa(this.Ha("waffle-filter-bar-range-filter-pills-container"));this.H.Xa(this.Ha("waffle-filter-bar-add-range-filter-button"));this.H.Pa(!0);var a=this.Ha("waffle-filter-bar-range-pill-input");this.F.Xa(a)};
p.Ja=function(){R.prototype.Ja.call(this);var a=new Zu,b=this.F.Na();$u(a,b);b=new Fx(b);this.getHandler().listen(this.L,"Qh",this.Ztb).listen(this.L,"Rh",this.Dsb).listen(a,"key",this.sUb).listen(b,"focusin",this.qUb).listen(b,"focusout",this.rUb).listen(this.H,"action",this.Gnb)};p.Lc=function(){var a=this;this.L.yd(!0);Gc(jMf(this),function(b){a.L.Ia(b,!0);"waffle-filter-bar-range-filter-pill-edit"==a.C&&b.C.equals(a.D.C)&&(a.D=b,kMf(a,a.D.Na()))})};
p.Ztb=function(a){"waffle-filter-bar-range-filter-pill-view"!=this.C&&lMf(this);this.D=a.target;this.F.setValue(gMf(this.D));kMf(this,this.D.Na());this.C="waffle-filter-bar-range-filter-pill-edit"};p.Dsb=function(a){var b=CJ(this.J)?this.J.getActiveGrid().Ic().Hf:null;if(b&&(b=$H(b))){a=a.target;var c={};thb.Kb((c["filter-view-id"]=b,c["range-filter-id"]=a.F,c))}};
p.Gnb=function(){"waffle-filter-bar-range-filter-pill-view"!=this.C&&lMf(this);var a=this.J.getActiveGrid().Ic().Nc();this.F.setValue(mM(a));kMf(this,this.H.Na());this.C="waffle-filter-bar-range-section-mode-add"};function kMf(a,b){var c=a.F.Na();su(c,uu(b).width);a.qa().Lr(c,b);Q(b,!1);Q(c,!0);b=new $m(function(){return Hy(a.F)});a.va(b);b.start()}
function lMf(a){"waffle-filter-bar-range-filter-pill-view"!=a.C&&(Q("waffle-filter-bar-range-filter-pill-edit"==a.C?a.D.Na():a.H.Na(),!0),Q(a.F.Na(),!1),a.C="waffle-filter-bar-range-filter-pill-view",a.D=null)}p.sUb=function(a){13==a.keyCode?(mMf(this),lMf(this),this.O.Wb(3)):27==a.keyCode&&(lMf(this),this.Lc(),this.O.Wb(3));a.stopPropagation()};p.rUb=function(){this.getParent().Ee&&(mMf(this),lMf(this))};p.qUb=function(){this.O.Wb(2)};
function jMf(a){var b=CJ(a.J)?a.J.getActiveGrid().Ic().Hf:null;if(!b||!$H(b))return[];var c=iRb(b),d=1==c.length;return Jc(VLf(b),function(e,f){return new fMf(c[f++],e,a.R,d)})}
function mMf(a){if(!a.V){var b=ud(a.F.getValue());if((b=Sne(a.R,b))&&Pne(a.R,b)){a.V=!0;if("waffle-filter-bar-range-section-mode-add"==a.C){var c=$H(XK(a.J).Hf),d={};rhb.Kb((d["range-ref"]=b,d["filter-view-id"]=c,d))}else"waffle-filter-bar-range-filter-pill-edit"!=a.C||a.D.C.equals(b)||(c={},rA.Kb((c["range-ref"]=b,c["range-filter-id"]=a.D.F,c)));a.V=!1}}};function nMf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><span class="docs-promo-title">You just used your first filter view!</span><br><br><div class="waffle-filter-bar-contents"><span class="docs-promo-content">Only your view has changed, but the list of filter views is shared with collaborators.<br><br><b>Important:&nbsp;</b>Editing data changes it for everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
function oMf(){return U('<div class="waffle-filter-bar-promo"><div aria-live="polite"><div class="waffle-filter-bar-contents"><span class="docs-promo-content">This <b>filter view</b> is temporary, so only you can see it.<br><br><b>Editors</b> of this spreadsheet can create filter views that are shared with everyone.</span></div></div><br><a id="waffle-filterbar-promo-learn-more-link" class="docs-promo-dismiss-link">Learn more</a><span aria-hidden="true">&nbsp;|&nbsp;</span><a id="waffle-filterbar-promo-dismiss-link" class="docs-promo-dismiss-link">Dismiss</a></div>')}
;function pMf(a,b,c){b=c||b;a=a.yMb;c='<div class="waffle-filter-bar"><span id="waffle-filter-bar-name-label" class="waffle-filter-bar-header waffle-filter-bar-name-label goog-inline-block">Name:</span><div class="waffle-filter-bar-name-inputbox"><div class="waffle-filter-bar-promo-container" id="waffle-filter-bar-promo"></div><span class="waffle-filter-bar-name-readonly goog-inline-block" id="waffle-filterbar-name-readonly" tabindex="0" style="display:none"></span><input class="jfk-textinput waffle-filter-bar-name-input" id="waffle-filterbar-name-input" type="text" aria-labelledBy="waffle-filter-bar-name-label"/></div><span class="waffle-filter-bar-header goog-inline-block"></span>';
c=a?c+'<div class="waffle-filter-bar-range-section-container goog-inline-block"></div>':c+'<span id="waffle-filter-bar-range-label" class="waffle-filter-bar-header waffle-filter-bar-range-label goog-inline-block">Range:'+('</span><span class="waffle-filter-bar-range-readonly goog-inline-block" id="waffle-filterbar-range-readonly" tabindex="0"></span><input class="jfk-textinput waffle-filter-bar-range-input" id="waffle-filterbar-range-input" type="text" aria-labelledBy="waffle-filter-bar-range-label" style="display:none"/><div class="'+
V("waffle-filter-bar-range-section-space-eater")+'"></div>');c=c+'<div class="goog-inline-block waffle-filter-bar-align-right">'+S(jz({enabled:!0,title:Tw("Options"),id:"waffle-filter-bar-options",Go:"waffle-filter-bar-options",kE:Uw(""+S(iz({icon:Tw("docs-icon-img docs-icon-settings-white")},b)))}));c+=S(aab({id:"waffle-filter-bar-close",eg:"waffle-filter-bar-close"},b))+"</div></div>";return U(c)};function qMf(a,b,c,d,e,f){oZ.call(this,f);this.Qa=a;this.xb=b;this.Ta=c;this.Ka=d;this.Da=e;this.R=null;this.gK=new Ey(void 0,f);this.Ia(this.gK);this.Oa=null;this.Aa=new hz;this.Ia(this.Aa);this.V=null;this.RC=new Ey(void 0,f);this.Ia(this.RC);if(this.O=C(B(),"femrfifv"))this.Ga=new iMf(a,d,e),this.Ia(this.Ga);this.D=null;this.$a=new Nv("Rename");this.gb=new Nv("Update Range");this.Va=new Nv("Duplicate");this.Ua=new Nv("Delete");this.Za=new Nv("Learn more");this.F=new bw(null,null,mz.getInstance(),
f);this.F.Tc(this.$a);this.O||this.F.Tc(this.gb);this.F.Tc(this.Va);this.F.Tc(this.Ua);this.F.Tc(new Rv);this.F.Tc(this.Za);this.Ia(this.F);this.C=new Jv(void 0,mz.getInstance(),f);this.Ia(this.C)}A(qMf,oZ);p=qMf.prototype;p.LHa=n("waffle-slidingdialog-filterbar");p.t0a=function(){return Iw(pMf,{yMb:this.O})};
p.Ja=function(){qMf.Ba.Ja.call(this);var a=this.Ha("waffle-filter-bar-name-input");this.gK.Xa(a);fv(a,"label-input-label");this.Aa.Xa(a);this.R=this.Ha("waffle-filter-bar-name-readonly");this.Oa=this.Ha("waffle-filter-bar-name-label");this.O?this.Ga.render(this.Ha("waffle-filter-bar-range-section-container")):(a=this.Ha("waffle-filter-bar-range-input"),this.RC.Xa(a),this.V=this.Ha("waffle-filter-bar-range-readonly"),rMf(this));this.F.Xa(this.Ha("waffle-filter-bar-options"));this.F.Pa(!0);this.C.Xa(this.Ha("waffle-filter-bar-close"));
this.C.Pa(!0);sMf(this);tMf(this)};
function tMf(a){var b=mG(a.xb),c=new Zu;$u(c,a.gK.getElement());var d=new Fx(a.gK.getElement()),e=new Zu;$u(e,a.C.getElement());a.getHandler().listen(a.C,"action",a.tUb).listen(b,["Hb","Jb","Kb"],a.Lc).listen(c,"key",a.qAb).listen(e,"key",a.ZHb).listen(d,"focusin",a.oSa).listen(d,"focusout",a.pAb);qA.Pb($p,function(){return sMf(a)});b=new mx(void 0,void 0,!0,Jz.getInstance());ox(b,a.$a,qA);ox(b,a.Va,pA);ox(b,a.Ua,oA);ox(b,a.Za,(Es(),Dr),void 0,a.wIa);a.O||(c=new Zu,$u(c,a.RC.getElement()),d=new Fx(a.RC.getElement()),
a.getHandler().listen(c,"key",a.vUb).listen(d,"focusin",a.oSa).listen(d,"focusout",a.uUb),rA.Pb($p,function(){return rMf(a)}),ox(b,a.gb,rA))}p.setVisible=function(a,b){qMf.Ba.setVisible.call(this,a,b);a&&this.Lc();!a&&this.D&&(this.D.setVisible(!1),this.D=null)};
p.CUa=function(){var a=uMf(this);if(a&&(a=dI(a),this.Ta.C[a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo"].getValue())){var b=Iw(a?oMf:nMf);this.D=new ES(this.qa().getElement("waffle-filter-bar-promo"));this.va(this.D);this.D.setPosition(1,0);this.D.setContent(b);Kw(this.D.D,!1);this.D.wC=!0;this.D.render();b=this.qa().getElement("waffle-filterbar-promo-dismiss-link");xl.listen(b,this.jba,!1,this);b=this.qa().getElement("waffle-filterbar-promo-learn-more-link");xl.listen(b,this.SMa,
!1,this);this.getHandler().listen(this.D,"hide",this.jba);EM(this.Ta,a?"ritz-DisplayLocalFilterViewPromo":"ritz-DisplayFilterViewPromo",!1)}};p.jba=function(){if(this.D){var a=this.qa().getElement("waffle-filterbar-promo-dismiss-link");xl.Kc(a,this.jba,!1,this);a=this.qa().getElement("waffle-filterbar-promo-learn-more-link");xl.Kc(a,this.SMa,!1,this);this.getHandler().Kc(this.D,"hide",this.jba);this.D.setVisible(!1);this.D=null}};
p.Lc=function(){var a=uMf(this);if(a){var b=$H(a);if(b){this.F.setVisible(!dI(a));Q(this.Oa,!dI(a));b=ritz_api.RitzModelApi.getFilterName(b);var c="Name: "+b;this.Aa.setValue(b);this.qa().He(this.R,b);Xu(this.R,c);this.O?this.Ga.Lc():(a=VLf(a)[0],a=Pne(this.Da,a)?Qne(this.Da,a,!1):"#REF",b="Range: "+a,this.RC.setValue(a),this.qa().He(this.V,a),Xu(this.V,b))}}};p.tUb=function(){this.dispatchEvent("close");vMf(this)};
p.qAb=function(a){13==a.keyCode?(wMf(this),vMf(this)):27==a.keyCode&&(this.Lc(),a.stopPropagation(),vMf(this))};p.vUb=function(a){13==a.keyCode?(xMf(this),vMf(this)):27==a.keyCode&&(this.Lc(),a.stopPropagation(),vMf(this))};p.ZHb=function(a){a.shiftKey||9!=a.keyCode||(vMf(this),a.stopPropagation())};function vMf(a){a.Ka.Wb(3)}p.oSa=function(){this.Ka.Wb(2)};p.pAb=function(){this.Ee&&wMf(this)};p.uUb=function(){this.Ee&&xMf(this)};
function sMf(a){var b=qA.isEnabled();Q(a.gK.getElement(),b);Q(a.R,!b)}function rMf(a){var b=rA.isEnabled();Q(a.RC.getElement(),b);Q(a.V,!b)}function wMf(a){var b=uMf(a);if(b){b=$H(b);var c=ritz_api.RitzModelApi.getFilterName(b),d=ud(a.gK.getValue());c==d?a.Lc():(a={},qA.Kb((a.name=d,a["filter-view-id"]=b,a)))}}function xMf(a){var b=uMf(a);if(b){var c=$H(b),d=ud(a.RC.getValue());(d=Sne(a.Da,d))?VLf(b)[0].equals(d)?a.Lc():(a={},rA.Kb((a["range-ref"]=d,a["range-filter-id"]=c,a))):a.Lc()}}
p.SMa=function(){(Es(),Dr).Kb(this.wIa())};p.wIa=function(){var a={};return a.defaultHelpArticleId="3540681",a};p.focus=function(){Hy(this.gK)};function uMf(a){return CJ(a.Qa)?a.Qa.getActiveGrid().Ic().Hf:null};function yMf(a,b,c,d,e,f){nZ.call(this,"waffle-filterbar-id",e);this.O=y(this.R7b,this);this.H=a;this.J=b;this.D=c;this.L=d;this.F=f;this.Ub=new vt(this);this.va(this.Ub);this.Ai()}A(yMf,nZ);p=yMf.prototype;p.Ai=function(){this.Ub.subscribe(pA,"action",this.Utb).subscribe(oA,"action",this.Csb).subscribe(qA,"action",this.kEb).subscribe(rA,"action",this.jJb).subscribe(rhb,"action",this.tbc).subscribe(thb,"action",this.Esb)};p.R7b=function(){this.C.setVisible(!0)};
p.Csb=function(){var a=zMf(this),b=$H(a.Hf);b&&this.D.C(new $Lf(a,b))};p.Utb=function(){var a=zMf(this),b=$H(a.Hf);b&&this.D.C(new bMf(a,b,!this.F.H.C))};p.kEb=function(a){if(a){var b=a["filter-view-id"];if((a=(a=a.name)&&ud(a))&&a.length){var c=zMf(this);this.D.C(new cMf(c,b,a))}else this.C.Lc()}else Hy(this.C.gK)};p.jJb=function(a){if(a){var b=a["range-filter-id"];a=a["range-ref"];var c=zMf(this),d=Qne(this.F.Qa,a,!1);this.D.C(new dMf(c,b,a,d))}else Hy(this.C.RC)};
p.tbc=function(a){if(a){var b=a["filter-view-id"];a=a["range-ref"];var c=zMf(this);this.D.C(new ZLf(b,a,dI(c.Hf)))}else Hy(this.C.RC)};p.Esb=function(a){a?this.D.C(new aMf(a["filter-view-id"],a["range-filter-id"])):Hy(this.C.RC)};p.m0=function(){return new qMf(this.H,this.J,this.L,this.R,this.F.Qa)};p.fB=function(){yMf.Ba.fB.call(this);this.getHandler().listen(this.C,"close",this.XIb);this.vI()};p.Iya=n("waffle-filterbar-id");p.XIb=function(){var a=zMf(this);this.D.C(new HQ(a,null))};
p.setVisible=function(a,b){this.C.setVisible(a,b)};function zMf(a){return a.H.getActiveGrid().Ic()};function AMf(a,b,c,d,e,f,h){E.call(this);this.F=a;this.J=b;this.L=c;this.O=d;this.V=e;this.R=f;this.ma=h;this.H=new Tl(this);this.va(this.H);this.C=this.D=null;a=mG(this.J);this.H.listen(a,["Hb","Ib","Jb","Kb"],this.ubc).listen(this.F,["$","pa"],this.wbc).listen(this.F,["Z","qa"],this.vbc);shb.Pb(bq,y(this.eob,this));BMf(this,!1)}A(AMf,E);function BMf(a,b){if(a.F.C)if(CJ(a.F)){var c=XK(a.F).Hf,d=cI(c);c=d&&!oRb(c);CMf(a,d,c,b)}else CMf(a,!1,!1,b)}
function CMf(a,b,c,d){b&&!c&&a.C?a.C.play():a.C&&a.C.stop();c&&!a.D&&(a.D=new yMf(a.F,a.J,a.O,a.V,a.R,a.ma),a.va(a.D),a.H.listen(a.D,"end",a.Vob),a.D.show());if(a.D&&(a.D.setVisible(c,d),d)){if(a=tJ(a.L))b=a.Aa.gb,c=c?1:0,WLf("#555555","#f3f3f3",c),WLf("#363636","#ddd",c),WLf("#516374","#8fb1e8",c),WLf("white","black",c),WLf("white","green",c),b.C.color=WLf("#3c3c3c","#ccc",c),Amc(a.Aa,a.Aa.L,null,!0,!0);l1d()}}p=AMf.prototype;p.Vob=function(){l1d();this.C&&this.C.play(!0)};
p.ubc=function(){BMf(this,!1)};p.wbc=function(){CMf(this,!1,!1,!0)};p.vbc=function(){BMf(this,!0)};p.eob=function(){this.C&&this.C.stop();var a=tJ(this.L);if(a){a=a.Aa;var b=XLf(a);gu(b,"z-index",3);gu(b,"pointer-events","none");b.removeAttribute("moz-opaque");YLf(a,b);this.C=s3a(b,.35);this.H.Oc(this.C,"end",y(function(){Zs(b);F(this.C);this.C=null},this))}};function DMf(){E.call(this)}A(DMf,$I);DMf.prototype.C=function(){return AMf};fJ("filterbar",DMf);
