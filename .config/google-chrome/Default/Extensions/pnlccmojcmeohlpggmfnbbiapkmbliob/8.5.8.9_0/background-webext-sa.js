// Copyright (C) 1999-2019 Siber Systems Inc. All Rights Reserved.
var g_SharedMgr=void 0,g_jsApiMgr=void 0,RfUtils=RfapiJS.utils;function Browser_ConfigureRoboFormStandalone(){RoboFormStandalone.prototype.UpdateWindowTab=function(o,r,e,t){var n=g_roboform.GetCurrentWindowTab(o);n&&n==r&&(n=void 0);g_roboform.FindCreateTabBrowser(r,e);function a(e){browser.windows.get(o,function(t){if(t&&t.type){var n=t.type;switch(n){case"normal":case"popup":break;default:return void log("UpdateWindowTab","no html document, window type="+t.type)}Browser_IsServiceWnd(n,e)||g_roboform.UpdateCurrentWindowTab(o,r)}})}t?a(t):browser.tabs.get(r,function(e){if(g_roboform.GetLastError())return browser.runtime.lastError.message,g_roboform.UpdateCurrentWindowTab(o,void 0),void g_roboform.RemoveTabBrowser(r);a(e)})},RoboFormStandalone.prototype.ShowRoboFormStatus=function(){browser.browserAction.setIcon({path:g_default_icon_path})}}function Browser_StartupStandalone(){ClearNmSettings(),ConfigureRoboForm(),Browser_ConfigureRoboFormStandalone(),Configure_PrototypesStandalone(),g_roboform=new RoboFormStandalone,g_roboform.Browser_Startup(),getProxyRfo().LoadUserData(),(g_jsApiMgr=new RfapiJS.RfDataManager).setBrowserParam(RF_BROWSER_PARAM),RfapiJS.setTraceLevel(0),RfapiJS.setDebugMode(!1),g_jsApiMgr.SetServerUrl(GetSetting("internal","active-server"));var o=browser.runtime.getManifest();g_jsApiMgr.setExtensionParams({id:browser.runtime.id,version:o.version}),g_SharedMgr=new CRFSharedDataMain,g_jsApiMgr.SetEventListener("OnAccountChanged",UserAccount_OnChangedEvent),browser.browserAction.setPopup({popup:"popup.html"}),ShowRoboFormStatus(!0),browser.browserAction.setTitle({title:"Click this button to show RoboForm commands"})}
//# sourceMappingURL=background-webext-sa.js.map