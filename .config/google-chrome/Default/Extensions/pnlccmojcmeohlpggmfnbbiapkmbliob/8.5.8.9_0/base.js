// Copyright (C) 1999-2019 Siber Systems Inc. All Rights Reserved.
if(void 0===base_js_loaded){var base_js_loaded=1,g_is_win=-1!=navigator.appVersion.indexOf("Windows"),g_is_mac=-1!=navigator.appVersion.indexOf("Mac"),g_is_linux=-1!=navigator.appVersion.indexOf("Linux"),g_ischrome=!1,g_isfirefox=!1,g_isedge=!1,g_issafari=!1,g_issafari_appext=!1,g_isopera=!1,g_ismaxthon=!1,RF_ROBOFORM_ONLINE_URL="https://online.roboform.com/login?lang="+window.navigator.language,RF_ENTIRE_FAQ_URL="http://www.roboform.com/support/faq",RF_SUPPORT_URL="https://www.roboform.com/php/rtss/main/?lang="+window.navigator.language,RF_ROBOFORM_HOME_URL="https://www.roboform.com/",RF_ROBOFORM_STARTPAGE_URL="https://start.roboform.com/";if("undefined"!=typeof RfapiJS)var RfUtils=RfapiJS.utils,RfApiError=RfapiJS.RfApiError,RfErrType=RfapiJS.RfErrType,EnRfDataItemType=RfapiJS.EnRfDataItemType,EnDataItemInfoParts=RfapiJS.EnDataItemInfoParts,ITEMINFO_TYPE_PROP=RfapiJS.ITEMINFO_TYPE_PROP,ITEMINFO_PATH_PROP=RfapiJS.ITEMINFO_PATH_PROP,ITEMINFO_SIZE_PROP=RfapiJS.ITEMINFO_SIZE_PROP,ITEMINFO_MODTIME_PROP=RfapiJS.ITEMINFO_MODTIME_PROP,ITEMINFO_CREATETIME_PROP=RfapiJS.ITEMINFO_CREATETIME_PROP;var EnPUMSUserAction={enPUMSAction_Buy:0,enPUMSAction_Renew:1},EnEmergencyStatus={invited:0,accepted:1,rejected:2},EnEmergencyAccessStatus={no_access:0,access_requested:1,access_granted:2},RfFieldType={RfField_None:0,RfFieldText:1,RfFieldPassword:2,RfFieldCheckbox:3,RfFieldRadioCheck:4,RfFieldRadio:5,RfFieldTextArea:6,RfFieldSelect:7,RfField_Last:8},VK_ENTER_KEY=13,ERR_ACCESS_DENIED=403,ERR_IN_EXT_SOURCES=-1,Err_NeedOTP=410,Err_OTPAltChannel=411,RFJS_TEXT_MASTPASSFORM_INVALID=1,NOT_LOGGED_IN=10,ERR_CREATE_MP=103,ERR_OBJECT_ALREADY_EXISTS=101,ERR_SYNC_NOT_ALLOWED=102,ERR_SUSPENDED_ACCOUNT=104,ERR_NOT_ALLOWED=405,MPDLG_PWD_CHARLIMIT_MIN=8,MPDLG_PWD_CHARLIMIT_MAX=80,ACTION_PROPERTY="action",LOGOFFTIME_PROPERTY="autologoff",B_SUBMIT_PROPERTY="bSubmit",B_NEWWINDOW_PROPERTY="bNewWindow",B_FILL_PROPERTY="bFill",B_NAVIGATE_PROPERTY="bNavigate",IS_BOOKMARK_PROPERTY="bIsBookmark",B_FILLONLYEMPTY_PROPERTY="bFillOnlyEmptyFields",CONTEXT_PROPERTY="context",DATA_PROPERTY="data",DIALOG_ID_PROPERTY="dialogId",CURRENT_PROPERTY="current",OBJTYPES_PROPERTY="types",NAME_PROPERTY="name",ITEM_PROPERTY="item",URL_PROPERTY="url",ID_PROPERTY="id",PWD_GEN_PWD_PROPERTY="pwd",ISPROTECTED_PROPERTY="p",ITEMINFO_PROPERTY="item_info",ITEMDATA_PROPERTY="item_data",USERNAME_PROPERTY="user",ACCOUNTPWD_PROPERTY="password",EMAIL_PROPERTY="email",PHONE_PROPERTY="phone",MASTERPWD_PROPERTY="master_password",OTP_PWD_PROPERTY="otp_password",OTPMEMORIZE_PROPERTY="otp_memorize",OTPCHANNEL_PROPERTY="otp_channel",OTPNEW_PROPERTY="otp_new",RFTYPE_PROPERTY="type",PATH_PROPERTY="path",ITEMS_PROPERTY="items",SEARCH_PROPERTY="search",PARTS_PROPERTY="parts",ICON_PROPERTY="icon",CLASS_ATTR="class",SRC_ATTR="src",IMG_ELEMENT="img",DIV_ELEMENT="div",TR_ELEMENT="tr",TD_ELEMENT="td",TABLE_HTML="table",JSON_MSG_ERROR="error",JSON_MSG_CODE="code",JSON_MSG_DESCRIPTION="description",B_CACHEPWD_PROPERTY="bcache",STARS_ATTR="stars",SYMBOLS_ATTR="symbols",COMMAND_PROPERTY="cmd",CARDINDEX_PROPERTY="matchcard_currentindex",FIELD_NAME_ATTR="field_name",PCARD_LAST_FIELDINDEX_ATTR="last_fieldIndex",FIELD_ORDER_ATTR="field_order",FIELD_INDEX_ATTR="field_index",FIELD_CAPTION_ATTR="field_caption",FIELD_ID_ATTR="field_id",FIELD_TYPE_ATTR="field_type",FIELD_ISDEFVALUE_ATTR="field_m_bDefaultValue",RESERVED_FILENAME_CHARACTERS=new RegExp('[\\/:*?"<>|\r\n\t]',"g"),g_log_enabled=!0,RF_ROOT_FOLDER_URL="",RF_DOWNLOAD_WIN="https://www.roboform.com/dist/RoboForm-v8-Setup.exe",RF_DOWNLOAD_MAC="https://www.roboform.com/dist/roboform-mac-v8.dmg",RoboFormDownloadPageUrl="https://www.roboform.com/download?reason=RoboForm-Not-Found",kCannotLoadExtension="Can not load extension",kInternalError="Internal Error";if("undefined"!=typeof IDENTITY_RESOURCES)var RFB_COUNTRIES=IDENTITY_RESOURCES.RFB_COUNTRIES,RFB_OPTIONS=IDENTITY_RESOURCES.RFB_OPTIONS,RFB_FIELDS=IDENTITY_RESOURCES.RFB_FIELDS,RFB_RULES=IDENTITY_RESOURCES.RFB_RULES;function GetSettingToolbarVisible(){return GetSetting("nm-settings","toolbar")}function GetSettingToolbarForPopupVisible(){return GetSetting("nm-settings","popup-windows-toolbar")}function ArrayInclude(e,t){for(var a=0;a<e.length;a++)if(e[a]==t)return!0}var aBrowserSpecificUrls=["ms-browser","safari","mxaddon","chrome","widget","mx:","file:"];function isUrlWebCorrect(e){if(!e)return!1;if("about:blank"==e)return!1;for(var t=0;t<aBrowserSpecificUrls.length;t++)if(e.startsWith(aBrowserSpecificUrls[t]))return!1;return!0}function IsSocialPlugin(e){if(!e)return!1;for(var t=["facebook.com/plugins","facebook.com/extern","facebook.com/widgets","facebook.com/connect","twitter.com/widgets","plusone.google.com","google.com/ads","google.ru/ads","doubleclick.net/pagead","vk.com/widget","interceptedby.admuncher.com","staticxx.facebook.com","tpc.googlesyndication.com","imasdk.googleapis.com","chrome-extension://"],a=0;a<t.length;a++)if(e.indexOf(t[a])>=0)return!0;return!1}function visibilityEffect(e,t,a){for(var r=0,i=t[t.length-1],n=0;n<t.length;n++){if(a)for(var o=e,s=0;s<o.childNodes.length;s++){var _=o.childNodes[s],E=_.getAttribute&&_.getAttribute("id");E&&ArrayInclude(a,E)||_.style&&_.style.opacity!==i/10+""&&changeElementOpacity(_,t[n],r)}else e.style&&e.style.opacity!==i/10+""&&changeElementOpacity(e,t[n],r);r+=100}}function changeElementOpacity(e,t,a){setTimeout(function(){var a=e,r=t/10;a.style.opacity=r,1==t&&(a.style.display="block",a.style.opacity="0.3")},a)}function ControlBrowserPasswordSaving(){if(browser.privacy&&browser.privacy.services&&browser.privacy.services.passwordSavingEnabled){var e=GetSetting("sa-settings","sa-turnoff-browser-pwdmanager-chk");try{e?browser.privacy.services.passwordSavingEnabled.get({},function(e){"controllable_by_this_extension"!==e.levelOfControl&&"controlled_by_this_extension"!=e.levelOfControl||browser.privacy.services.passwordSavingEnabled.set({value:!1},function(){browser.extension.lastError&&browser.extension.lastError})}):browser.privacy.services.passwordSavingEnabled.get({},function(e){"controlled_by_this_extension"===e.levelOfControl&&browser.privacy.services.passwordSavingEnabled.clear({},function(){browser.extension.lastError&&browser.extension.lastError})})}catch(e){}}}var RF_SAVE_BUTTON_ID="rf_save_button_id",RF_DIV_TBAR_SAVE="rf_div_tbar_save",RF_DIV_TBAR_CLOSE="rf_div_tbar_close",RF_CLOSE_BUTTON_ID="rf_close_button_id",RF_PASSCARD_INPUT_ID="rf_passcard_input_id",RF_FOLDERS_SELECT_ID="rf_folders_select_id",RF_PROTECT_BOX_ID="rf_protect_chkbox_id",RF_DIV_TBAR_TEXT="rf_div_tbar_text",RF_DIV_TBAR_PASSWORD="rf_div_tbar_password",RF_MP_SAVEBTN_ID="rf_mp_savebtn",RF_MP_CHECKBTN_ID="rf_mp_checkbtn",RF_MASTERPASSCONFIRM_ID="rf_masterpassconfirm_input",RF_MASTERPASS_INPUT_ID="rf_masterpass_input",RF_MP_CANCELBTN="rf_mp_cancelbtn",VK_PRIOR=33,VK_NEXT=34,VK_UP=38,VK_DOWN=40,VK_ESCAPE=27,VK_RETURN=13,VK_TAB=9,VK_SHIFT=16,VK_CONTROL=17,VK_MENU=18,VK_F1=112,VK_F2=113,VK_F3=114,VK_F4=115,VK_F5=116,VK_F6=117,VK_F7=118,VK_F8=119,VK_F9=120,VK_F10=121,VK_F11=122,VK_F12=123,VK_F13=124,VK_F14=125,VK_F15=126,VK_F16=127,VK_F17=128,VK_F18=129,VK_F19=130,VK_F20=131,VK_F21=132,VK_F22=133,VK_F23=134,VK_F24=135,HTTP_STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"},ConfigMasterPasswordMinLength="MasterPasswordMinLength",ConfigMasterPasswordMaxLength="MasterPasswordMaxLength",ConfigMasterPasswordMinNonNumChars="MasterPasswordMinNonNumChars",ConfigMasterPasswordMinDigitChars="MasterPasswordMinDigitChars",ConfigMPRotationTimeDays="MPRotationTimeDays",ConfigDisableChangeMasterPassword="DisableChangeMasterPassword",ConfigMasterPasswordMinUpperCaseChars="MasterPasswordMinUpperCaseChars",ConfigMasterPasswordMinLowerCaseChars="MasterPasswordMinLowerCaseChars",ConfigDisableLogoff="DisableLogoff",ConfigDisableCreateLogins="DisableCreateLogins",ConfigDisableCreateIdentities="DisableCreateIdentities",ConfigDisableCreateBookmarks="DisableCreateBookmarks",ConfigDisableCreateContacts="DisableCreateContacts",ConfigDisableCreateAppLogins="DisableCreateAppLogins",ConfigDisableCreateSafenotes="DisableCreateSafenotes",ConfigShowPasswordsAsStarsInEditor="ShowPasswordsAsStarsInEditor",ConfigDisableSharing="DisableSharing",ConfigDisableSharingOutsideCompany="DisableSharingOutsideCompany",ConfigDisableEmergencyAccess="DisableEmergencyAccess",ConfigAllowedEmergencyAccessUsers="AllowedEmergencyAccessUsers",ConfigWhiteListURLs="WhiteListURLs",ConfigBlackListURLs="BlackListURLs",ConfigEnrollNewDevice="EnrollNewDevice",ConfigDisableNonGroupData="DisableNonGroupData",OptionsStoreMPInSystemProtectedStorage="StoreMPInSystemProtectedStorage",OptionsAutoSaveEnable="AutoSaveEnable",OptionsConfirmAutoFillEnable="ConfirmAutoFillEnable",OptionsAutoLogoffTimeMins="AutoLogoffTimeMins",OptionsEnforceOTP="EnforceOTP",OptionsDisableOTPViaSMS="DisableOTPViaSMS",OptionsDisableMobileDevices="DisableMobileDevices",OptionsEnrollDevicesForDays="EnrollDevicesForDays",OptionsAllowedIPRanges="AllowedIPRanges",DomainsDomEqCount="DomEqCount",DomainsDomEqVer="DomEqVer",EnCipherType={enCipher_DES:0,enCipher_3DES_BAD:1,enCipher_3DES:2,enCipher_AES:3,enCipher_Blowfish:4,enCipher_RC6:5,enCipherType_Max:6,enCipherType_LegacyMax:3,enCipherType_Undefined:-1},EnCipherKeyScheme={enCipherKey_Normal:0,enCipherKey_DualPassword:1,enCipherKeyScheme_Max:2},EnUsageInfoList={usiRecentlyUsedList:0,usiFavouritesList:1,usiRecentlyViewedList:2,usiMostPopularList:3,identitiesGroupInstances:4},RfChangeEventType={None:0,Connect:1,FullUpdate:2,Logon:3,CachedPassword:4,AddDataItem:5,ModifyDataItem:6,DeleteDataItem:7,MoveDataItem:8,SettingChange:9,Logoff:10,Disconnect:11,UsageInfoChange:12,GlobalStatusChange:13};function RfChangeEvent(e,t,a,r){this.eventType=e,this.generation=t,void 0!==a&&(this.path=a),void 0!==r&&(this.toPath=r)}function localeString(e){try{var t=e.replace(new RegExp("[^a-zA-Z0-9_]","g"),"_"),a="";return"undefined"==typeof browser||void 0===browser.i18n||"function"!=typeof browser.i18n.getMessage?"undefined"!=typeof g_roboform_default_locale?g_roboform_default_locale[t].message:getBG().g_roboform_default_locale[t].message:(void 0!==(a=browser.i18n.getMessage(t))&&null!=a||(a=""),a||(a=t),a)}catch(t){return t.toString(),e}}function console_output(e){if(g_log_enabled)try{console.log(e)}catch(e){}}function ObjectToArray(e){if(e.g){var t=[],a=e.g;for(var r in a){var i=a[r],n=[],o=i.i;for(var s in o){var _=o[s],E=[],c=_.f;for(var f in c){var m=c[f];E.push(m)}_.f=E,n.push(_)}i.i=n,t.push(i)}e.g=t}}function GetDisplayPath(e){return e.startsWith("/")&&(e=e.substr(1,e.length-1)),e.endsWith(".rfp")&&(e=e.substr(0,e.length-4)),e.endsWith(".rfb")&&(e=e.substr(0,e.length-4)),e.replace(new RegExp("/","g"),"\\")}function getPathTextForItem(e){var t="",a=e[ITEMINFO_PATH_PROP];return t=a.match(new RegExp("/","g")).length<2?(t=a.substring(a.lastIndexOf("/")+1)).substr(0,t.lastIndexOf(".")):a.substr(0,a.lastIndexOf("."))}function getTextForItem(e,t){var a=e[ITEMINFO_TYPE_PROP],r=e[ITEMINFO_PATH_PROP],i="";switch(a){case EnRfDataItemType.RfItemType_Folder:i=r.substring(r.lastIndexOf("/")+1);break;case EnRfDataItemType.RfItemType_Identity:case EnRfDataItemType.RfItemType_Contact:case EnRfDataItemType.RfItemType_Bookmark:case EnRfDataItemType.RfItemType_Login:case EnRfDataItemType.RfItemType_BlockingPasscard:case EnRfDataItemType.RfItemType_SearchCard:case EnRfDataItemType.RfItemType_Safenote:t?((i=r).startsWith("/")&&(i=i.substr(1)),i=i.substr(0,i.lastIndexOf("."))):i=-1==(i=r.substring(r.lastIndexOf("/")+1)).lastIndexOf(".")?i:i.substr(0,i.lastIndexOf("."))}return i}function calcSharedIconOverlayClass(e){var t=e.s||e.Shared||e.isShared,a=e.company||t&&t.company,r=e.isManager||t&&t.isManager,i=e.readOnly||t&&t.readOnly;return t?a?r?"entManager":i?"entLimited":"entRegular":r?"consGranted":"consReceived":""}function getImageForType(e){var t=e.type,a=e.s||e.Shared||e.isShared,r=e.company||a&&a.company,i=e.isManager||a&&a.isManager||e.isAdmin||a&&a.isAdmin,n=e.isAdmin||a&&a.isAdmin,o=e.readOnly||a&&a.readOnly;switch(t){case EnRfDataItemType.RfItemType_Folder:if(!a)return FOLDER_IMAGE;!!a.showPasswords&&a.showPasswords;return r?i?FOLDER_MANAGER_IMAGE:o?FOLDER_LIMITED_IMAGE:FOLDER_REGULAR_IMAGE:i?FOLDER_GRANTED_IMAGE:FOLDER_RECEIVED_IMAGE;case EnRfDataItemType.RfItemType_Bookmark:return a?r?i?BOOKMARK_MANAGER_IMAGE:o?BOOKMARK_LIMITED_IMAGE:BOOKMARK_REGULAR_IMAGE:e.granted||i||n?BOOKMARK_GRANTED_IMAGE:BOOKMARK_RECEIVED_IMAGE:BOOKMARK_IMAGE;case EnRfDataItemType.RfItemType_Login:return a?r?i?LOGIN_MANAGER_IMAGE:o?LOGIN_LIMITED_IMAGE:LOGIN_REGULAR_IMAGE:e.granted||i||n?LOGIN_GRANTED_IMAGE:LOGIN_RECEIVED_IMAGE:LOGIN_IMAGE;case EnRfDataItemType.RfItemType_Identity:return a?r?i?IDENTITY_MANAGER_IMAGE:o?IDENTITY_LIMITED_IMAGE:IDENTITY_REGULAR_IMAGE:e.granted||i||n?IDENTITY_GRANTED_IMAGE:IDENTITY_RECEIVED_IMAGE:IDENTITY_IMAGE;case EnRfDataItemType.RfItemType_Contact:return a?r?i?CONTACT_MANAGER_IMAGE:o?CONTACT_LIMITED_IMAGE:CONTACT_REGULAR_IMAGE:e.granted||i||n?CONTACT_GRANTED_IMAGE:CONTACT_RECEIVED_IMAGE:CONTACT_IMAGE;case EnRfDataItemType.RfItemType_Safenote:return a?r?i?SAFENOTE_MANAGER_IMAGE:o?SAFENOTE_LIMITED_IMAGE:SAFENOTE_REGULAR_IMAGE:e.granted||e.isManager||n?SAFENOTE_GRANTED_IMAGE:SAFENOTE_RECEIVED_IMAGE:SAFENOTE_IMAGE;case EnRfDataItemType.RfItemType_BlockingPasscard:return a?BLOCKCARD_GRANTED_IMAGE:BLOCKCARD_IMAGE;case EnRfDataItemType.RfItemType_SearchCard:return a?SEARCHCARD_GRANTED_IMAGE:SEARCHCARD_IMAGE}}function fileTypeToText(e){switch(e){case EnRfDataItemType.RfItemType_Folder:return"Folder";case EnRfDataItemType.RfItemType_Contact:return"Contact";case EnRfDataItemType.RfItemType_Login:return"Login";case EnRfDataItemType.RfItemType_Identity:return"Identity";case EnRfDataItemType.RfItemType_Bookmark:return"Bookmark";case EnRfDataItemType.RfItemType_SearchCard:return"Searchcard";case EnRfDataItemType.RfItemType_BlockingPasscard:return"Blockcard";case EnRfDataItemType.RfItemType_Safenote:return"Safenote";default:return"[object]"}}function RfIsPasscard(e){switch(e){case EnRfDataItemType.RfItemType_Login:case EnRfDataItemType.RfItemType_Bookmark:case EnRfDataItemType.RfItemType_SearchCard:case EnRfDataItemType.RfItemType_BlockingPasscard:case EnRfDataItemType.RfItemType_Safenote:return!0;default:return!1}}function RfIsIdentity(e){switch(e){case EnRfDataItemType.RfItemType_Identity:case EnRfDataItemType.RfItemType_Contact:return!0;default:return!1}}function RfGetDisplayPathStr(e){return e.replace(new RegExp("^file:\\/\\/",""),"").replace(new RegExp("^\\/",""),"").replace(new RegExp("(\\.rfp|\\.rfb|\\.rfq|\\.rft|\\.rfc|\\.rfn)$","i"),"").replace(new RegExp("/","g"),"\\")}function RfGetPathStr(e,t){switch(t){case EnRfDataItemType.RfItemType_Login:return e+".rfp";case EnRfDataItemType.RfItemType_Bookmark:return e+".rfb";case EnRfDataItemType.RfItemType_SearchCard:return e+".rfq";case EnRfDataItemType.RfItemType_BlockingPasscard:return e+".rfx";case EnRfDataItemType.RfItemType_Identity:return e+".rft";case EnRfDataItemType.RfItemType_Contact:return e+".rfc";case EnRfDataItemType.RfItemType_Safenote:return e+".rfn";case EnRfDataItemType.RfItemType_Undefined:case EnRfDataItemType.RfItemType_Folder:case EnRfDataItemType.RfItemType_Generic:return e}}function RfGetDataItemPathIds(e,t){switch(e){case EnRfDataItemType.RfItemType_Login:return t?"RoboformType_Logins":"RoboformType_Login";case EnRfDataItemType.RfItemType_Bookmark:return t?"RoboformType_Bookmarks":"RoboformType_Bookmark";case EnRfDataItemType.RfItemType_SearchCard:return t?"RoboformType_Searchcards":"RoboformType_Searchcard";case EnRfDataItemType.RfItemType_BlockingPasscard:return t?"RoboformType_Logins":"RoboformType_Login";case EnRfDataItemType.RfItemType_Identity:return t?"RoboformType_Identities":"RoboformType_Identity";case EnRfDataItemType.RfItemType_Contact:return t?"RoboformType_Contacts":"RoboformType_Contact";case EnRfDataItemType.RfItemType_Safenote:return t?"RoboformType_Safenotes":"RoboformType_Safenote";case EnRfDataItemType.RfItemType_Folder:return t?"RoboformType_Folders":"RoboformType_Folder";case EnRfDataItemType.RfItemType_Generic:return t?"RoboformType_Files":"RoboformType_File"}}var EEquivID={EQID_BOFA:0,EQID_CITIBANK:1,EQID_CNET:2,EQID_GAP:3,EQID_MS:4,EQID_UAL:5,EQID_YAHOO:6,EQID_ZONEALARM:7,EQID_GOOGLE:8,EQID_VKontakteRu:9,EQUI_APPLE:10,EQID_USER:1048576};function CRfDomainMatch(){this.m_domains_eqiv={}}function CRfPasscardMatch(e,t,a,r,i,n,o){this.m_MatchTypePC=e,this.m_path=t,this.m_type=a,this.m_bDefault=r,this.m_bMainFrame=i,this.m_FieldMatch=n,this.m_bHighPriority=o}function RfPasscardMatchCompare(e,t,a){if(a){if(e.m_bHighPriority&&!t.m_bHighPriority)return-1;if(!e.m_bHighPriority&&t.m_bHighPriority)return 1;if(e.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_PAGE&&t.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_PAGE&&e.m_bDefault!=t.m_bDefault)return e.m_bDefault?-1:1;if(e.m_MatchTypePC<RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_PAGE&&t.m_MatchTypePC<RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_PAGE&&e.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_DOMAIN&&t.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_DOMAIN&&e.m_bDefault!=t.m_bDefault)return e.m_bDefault?-1:1;if(e.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_URL_EXACT&&t.m_MatchTypePC<RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_URL_EXACT)return-1;if(t.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_URL_EXACT&&e.m_MatchTypePC<RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_URL_EXACT)return 1;if(e.m_bMainFrame!=t.m_bMainFrame)return e.m_bMainFrame?-1:1;var r=t.m_MatchTypePC-e.m_MatchTypePC;if(0!=r)return r;if(e.m_bDefault!=t.m_bDefault)return e.m_bDefault?-1:1;if(0!=(o=t.m_FieldMatch-e.m_FieldMatch))return o;var i=e.m_path.toLowerCase(),n=t.m_path.toLowerCase();return 0!=(s=i.localeCompare(n))?s:i<n?-1:1}if(e.m_bHighPriority&&!t.m_bHighPriority)return-1;if(!e.m_bHighPriority&&t.m_bHighPriority)return 1;if(e.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_DOMAIN&&t.m_MatchTypePC>=RfapiJS.RfUrlMatchLevel.RF_MATCH_TYPE_DOMAIN&&e.m_bDefault!=t.m_bDefault)return e.m_bDefault?-1:1;if(e.m_bMainFrame!=t.m_bMainFrame)return e.m_bMainFrame?-1:1;if(e.m_bDefault!=t.m_bDefault)return e.m_bDefault?-1:1;var o;if(0!=(o=t.m_FieldMatch-e.m_FieldMatch))return o;var s;i=e.m_path.toLowerCase(),n=t.m_path.toLowerCase();return 0!=(s=i.localeCompare(n))?s:i<n?-1:1}function CRfPasscardMatchList(){this.m_unsorted_matches={},this.m_matches_count=0,this.m_sorted_matches=[],this.m_bOrderByUrlMatch=!1,this.m_bSortedListIsUptodate=!1,this.m_bTopMatchIsUptodate=!1,this.m_TopMatch=void 0}function GetParentFolderPath(e){return 0==e.lastIndexOf("/")?RF_ROOT_FOLDER_URL:e.substring(0,e.lastIndexOf("/"))}function SibReplaceInvalidFileNameChars(e){if(e)return e.replace(RESERVED_FILENAME_CHARACTERS,"_").replace(new RegExp("_+","g"),"_")}function SibNormalizeFileName(e,t){if(e&&(e=(e=e.replace(new RegExp("^\\s+","i"),"")).replace(new RegExp("[.\\s]+$","i"),""))&&"."!=e[0]&&CheckNameIsValid(e))return t>0&&(e=e.substr(0,t)),e}function SibMakeValidFileName(e,t){return SibNormalizeFileName(e=SibReplaceInvalidFileNameChars(e),t)}function CheckNameIsValid(e){return!!e&&(!(e.startsWith(" ")||e.endsWith(" ")||e.startsWith(".")||e.endsWith("."))&&(-1==e.indexOf("\\")&&-1==e.indexOf("/")&&-1==e.indexOf(":")&&-1==e.indexOf("*")&&-1==e.indexOf("?")&&-1==e.indexOf('"')&&-1==e.indexOf("<")&&-1==e.indexOf(">")&&-1==e.indexOf("|")&&-1==e.indexOf("\r")&&-1==e.indexOf("\n")&&-1==e.indexOf("\t")))}function SetTimeout(e,t){return window.setTimeout(e,t)}function SetInterval(e,t){return window.setInterval(e,t)}function ClearTimeout(e,t){e&&t&&t.clearTimeout(e)}function IsLetter(e){return e.toLowerCase()!=e.toUpperCase()}function IsWCharUpper(e){return e==e.toUpperCase()}function IsWCharLower(e){return e==e.toLowerCase()}function formatQuery(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(new RegExp("%%([^']*)%%","g"),function(e){return void 0!==t[0]?t[0]:e})}function format(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(new RegExp("%(\\d+)","g"),function(e,a){return void 0!==t[a-1]?t[a-1]:e})}function Localize(e,t,a){"string"==typeof t&&(t=new RegExp(t,"i")),forEachNode(e,function(e){switch(e.nodeType){case 3:t.test(e.nodeValue)&&(e.nodeValue=a(e.nodeValue));break;default:if(e.value&&t.test(e.value)){var r=a(e.value);void 0!==r&&(e.value=r)}}})}function LocalizeAsync(e,t,a){"string"==typeof t&&(t=new RegExp(t,"i")),forEachNode(e,function(e){switch(e.nodeType){case 3:t.test(e.nodeValue)&&a(e.nodeValue,e,"nodeValue");break;default:e.value&&t.test(e.value)&&a(e.value,e,"value")}})}function $(e){return document.getElementById(e)}function forEachNode(e,t){for(var a=e;e;){var r=t(e);if(r)return r;if(e.firstChild)e=e.firstChild;else{for(;!e.nextSibling&&(e=e.parentNode)&&e!=a;);e=e.nextSibling}}}function ParseJSON(e){return"string"==typeof e?JSON.parse(e):e}function GetLocalTextFile(e){var t=new XMLHttpRequest;return t.open("GET",GetLocalURL(e),!1),t.send(null),t.responseText}function forEachOwnProp(e,t){for(var a in e)if(e.hasOwnProperty(a)){var r=t(e[a],a);if(r)return r}}function CompareVersions(e,t,a){var r,i=e.split(a),n=t.split(a);for(r=0;r<i.length;r++)i[r]=parseInt(i[r]);for(r=0;r<n.length;r++)n[r]=parseInt(n[r]);for(r=i.length;r<n.length;r++)i.push(0);for(r=n.length;r<i.length;r++)n.push(0);for(r=0;r<i.length;r++){var o=i[r],s=n[r];if(o!=s)return o<s?-1*(i.length-r):1*(i.length-r)}return 0}function MergeProps(e,t){var a="object"==typeof e;for(var r in e)if(!a||e.hasOwnProperty(r))if("function"!=typeof e[r])if(void 0===t[r])t[r]=e[r];else{if("object"==typeof t[r])continue;t[r]=e[r]}else delete t[r]}function CEnum(){this.m_elements=void 0,this.m_enumerated=[]}function format_log_args(e,t){var a="";e&&e.name&&(a=e.name);for(var r=a,i=0;i<t.length;i++){var n=format_log_arg(t[i]);n&&""!=n&&(n!=a&&(""!=r&&(r+=": "),r+=n))}return r}function format_log_arg(e){var t=error_location(e);switch(typeof e){case"string":case"undefined":break;default:if(e){if(e.length);else if(e.description&&e.number){e=e.toString();break}if(e.message&&e.name){e=e.toString();break}}try{var a=JSON.stringify(e);e=a&&""!=a&&"{}"!=a?a:e.toString()}catch(t){e=e.toString()}}return t&&(e+=" @"+t+"\n"),e}function exception_string(e){var t=e.toString(),a=error_location(e);return a&&(t+="\n"+a),t}function error_location(e){if(e&&void 0!==e.fileName){var t=e.fileName;return void 0!==e.lineNumber&&(t+="("+e.lineNumber+")"),t}}function RemoveChilds(e){var t=$(e);if(t)for(;t.hasChildNodes();)t.removeChild(t.lastChild)}function HasClass(e,t){return-1!==(e.getAttribute("class")||"").split(" ").indexOf(t)}function AddClass(e,t){var a=(e.getAttribute("class")||"").split(" ");AddWords(a,t),a=a.filter(function(e){return""!=e}),e.setAttribute("class",a.join(" "))}function RemoveClass(e,t){var a=(e.getAttribute("class")||"").split(" ");RemoveWords(a,t),a=a.filter(function(e){return""!=e}),e.setAttribute("class",a.join(" "))}function ReplaceClass(e,t,a){var r=(e.getAttribute("class")||"").split(" ");RemoveWords(r,t),AddWords(r,a),r=r.filter(function(e){return""!=e}),e.setAttribute("class",r.join(" "))}function AddWords(e,t){"string"==typeof e&&(e=e.split(" ")),"string"==typeof t&&(t=t.split(" "));for(var a=GetValues(e),r=0;r<t.length;r++){var i=t[r];a.hasOwnProperty(i)||e.push(i)}return e}function RemoveWords(e,t){"string"==typeof e&&(e=e.split(" ")),"string"==typeof t&&(t=t.split(" ")),t=GetValues(t);for(var a=0;a<e.length;a++){var r=e[a];t.hasOwnProperty(r)&&(e.splice(a,1),a--)}return e}function GetValues(e){for(var t={},a=0;a<e.length;a++)t[e[a]]=e[a];return t}function AddCssFile(e){var t=document.head,a=document.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,t.appendChild(a)}function RemoveCssFile(e){for(var t,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var i=a.item(r);if(i&&i.attributes.href.value==e){t=i;break}}t&&t.parentNode.removeChild(t)}function AddJsFile(e){var t=document.head,a=document.createElement("script");a.type="text/javascript",a.src=e,t.appendChild(a)}CRfDomainMatch.prototype.Init=function(e){this.AddDomainEquiv(EEquivID.EQID_BOFA,"bankofamerica.com"),this.AddDomainEquiv(EEquivID.EQID_BOFA,"bofa.com"),this.AddDomainEquiv(EEquivID.EQID_BOFA,"mbna.com"),this.AddDomainEquiv(EEquivID.EQID_BOFA,"usecfo.com"),this.AddDomainEquiv(EEquivID.EQID_CITIBANK,"citibank.com"),this.AddDomainEquiv(EEquivID.EQID_CITIBANK,"citi.com"),this.AddDomainEquiv(EEquivID.EQID_CITIBANK,"citicards.com"),this.AddDomainEquiv(EEquivID.EQID_CITIBANK,"accountonline.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"cnet.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"download.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"news.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"search.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"upload.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"com.com"),this.AddDomainEquiv(EEquivID.EQID_CNET,"cnettv.com"),this.AddDomainEquiv(EEquivID.EQID_GAP,"bananarepublic.com"),this.AddDomainEquiv(EEquivID.EQID_GAP,"gap.com"),this.AddDomainEquiv(EEquivID.EQID_GAP,"oldnavy.com"),this.AddDomainEquiv(EEquivID.EQID_GAP,"piperlime.com"),this.AddDomainEquiv(EEquivID.EQID_MS,"microsoft.com"),this.AddDomainEquiv(EEquivID.EQID_MS,"msn.com"),this.AddDomainEquiv(EEquivID.EQID_MS,"live.com"),this.AddDomainEquiv(EEquivID.EQID_MS,"hotmail.com"),this.AddDomainEquiv(EEquivID.EQID_MS,"passport.net"),this.AddDomainEquiv(EEquivID.EQID_MS,"bing.com"),this.AddDomainEquiv(EEquivID.EQID_UAL,"united.com"),this.AddDomainEquiv(EEquivID.EQID_UAL,"ual.com"),this.AddDomainEquiv(EEquivID.EQID_UAL,"ua2go.com"),this.AddDomainEquiv(EEquivID.EQID_YAHOO,"yahoo.com"),this.AddDomainEquiv(EEquivID.EQID_YAHOO,"overture.com"),this.AddDomainEquiv(EEquivID.EQID_ZONEALARM,"zonelabs.com"),this.AddDomainEquiv(EEquivID.EQID_ZONEALARM,"zonealarm.com"),this.AddDomainEquiv(EEquivID.EQID_GOOGLE,"google.com"),this.AddDomainEquiv(EEquivID.EQID_GOOGLE,"blogger.com"),this.AddDomainEquiv(EEquivID.EQID_GOOGLE,"gmail.com"),this.AddDomainEquiv(EEquivID.EQID_VKontakteRu,"vkontakte.ru"),this.AddDomainEquiv(EEquivID.EQID_VKontakteRu,"vk.com"),this.AddDomainEquiv(EEquivID.EQUI_APPLE,"apple.com"),this.AddDomainEquiv(EEquivID.EQUI_APPLE,"icloud.com");for(var t=e.length,a=0;a<t;a++){for(var r=e[a].split("="),i=EEquivID.EQID_USER,n=EEquivID.EQID_USER,o=0;o<r.length;o++){if((E=r[o].trim())&&IsDomainCorrect(E)){var s=RfUtils.DomainFromUrl("http://"+E,!0,!1,!1);if(s){r[o]=s;var _=this.GetDomainEquivId(E,_);if(_)if(n!=EEquivID.EQID_USER){if(_!=n)continue}else n=_}}}n==EEquivID.EQID_USER&&(n=++i);for(o=0;o<r.length;o++){var E;(E=r[o].trim())&&this.AddDomainEquiv(n,E)}}},CRfDomainMatch.prototype.AddDomainEquiv=function(e,t){if(!t)return!1;var a=this.m_domains_eqiv[t];return a?a==e:(this.m_domains_eqiv[t]=e,!0)},CRfDomainMatch.prototype.GetDomainEquivId=function(e){return this.m_domains_eqiv[e]},CRfDomainMatch.prototype.UrlDomainMatch=function(e,t){if("{Win32Dlg}"==e||"{Win32Dlg}"==t)return e==t;var a=e.search(new RegExp("^exe://"))>=0,r=t.search(new RegExp("^exe://"))>=0;if(a&&r)return RfUtils.GetWin32UrlDomain(e)==RfUtils.GetWin32UrlDomain(t);if(a||r)return!1;var i=RfUtils.ParseUrl(e,!0,!1);if(!i)return!1;var n=RfUtils.ParseUrl(t,!0,!1);if(!n)return!1;if(i.type!=n.type)return!1;if(i.type==RfapiJS.EnUrlType.enUrlType_File)return!0;if(i.host==n.host)return!0;if(i.isIP&&n.isIP);else if(i.isIP||n.isIP)return!1;return this.IsDomainsEqual(e,t,i,n)},CRfDomainMatch.prototype.IsDomainsEqual=function(e,t,a,r){a||(a=RfUtils.ParseUrl(e,!0,!1)),r||(r=RfUtils.ParseUrl(t,!0,!1));var i=RfUtils.DomainFromUrl(e,!0,!1,!1,a),n=RfUtils.DomainFromUrl(t,!0,!1,!1,r);if(i==n)return!0;var o=this.m_domains_eqiv[i];if(!o)return!1;var s=this.m_domains_eqiv[n];return!!s&&o==s},CRfPasscardMatchList.prototype.AddMatch=function(e){var t=this.m_unsorted_matches[e.m_path];if(t){if(RfPasscardMatchCompare(e,t,this.m_bOrderByUrlMatch)>=0)return}else this.m_matches_count++;this.m_unsorted_matches[e.m_path]=e,this.m_bSortedListIsUptodate=!1,this.m_bTopMatchIsUptodate=!1},CRfPasscardMatchList.prototype.FindPasscard=function(e){return this.m_unsorted_matches[e]},CRfPasscardMatchList.prototype.Append=function(e){var t=this;forEachOwnProp(e,function(e,a){t.AddMatch(e)})},CRfPasscardMatchList.prototype.RemoveAll=function(){this.m_bSortedListIsUptodate=!1,this.m_bTopMatchIsUptodate=!1,this.m_unsorted_matches={},this.m_sorted_matches=[],this.m_matches_count=0,this.m_TopMatch=void 0},CRfPasscardMatchList.prototype.GetCount=function(){return this.m_matches_count},CRfPasscardMatchList.prototype.IsEmpty=function(){return 0==this.m_matches_count},CRfPasscardMatchList.prototype.GetExactMatches=function(){var e=0;return forEachOwnProp(this.m_unsorted_matches,function(t,a){t.m_MatchTypePC>=RfUrlMatchLevel.RF_MATCH_TYPE_URL_EXACT&&e++}),e},CRfPasscardMatchList.prototype.SetOrderByUrlMatch=function(e){this.m_bOrderByUrlMatch!=e&&(this.m_bOrderByUrlMatch=e,this.m_bSortedListIsUptodate=!1,this.m_bTopMatchIsUptodate=!1)},CRfPasscardMatchList.prototype.GetUnsorted=function(){return this.m_unsorted_matches},CRfPasscardMatchList.prototype.GetTopMatch=function(){return this.UpdateTopMatch(),this.m_TopMatch},CRfPasscardMatchList.prototype.GetSorted=function(){return this.UpdateSortedList(),this.m_sorted_matches},CRfPasscardMatchList.prototype.UpdateSortedList=function(){if(!this.m_bSortedListIsUptodate){this.m_sorted_matches=[];var e=this;forEachOwnProp(this.m_unsorted_matches,function(t,a){e.m_sorted_matches.push(t)}),this.m_sorted_matches.sort(function(t,a){return RfPasscardMatchCompare(t,a,e.m_bOrderByUrlMatch)}),this.m_bSortedListIsUptodate=!0}},CRfPasscardMatchList.prototype.UpdateTopMatch=function(){if(!this.m_bTopMatchIsUptodate){if(this.m_bSortedListIsUptodate)return 0==this.m_sorted_matches.length?this.m_TopMatch=void 0:this.m_TopMatch=this.m_sorted_matches[0],void(this.m_bTopMatchIsUptodate=!0);var e=void 0,t=this;forEachOwnProp(this.m_unsorted_matches,function(a,r){e?RfPasscardMatchCompare(a,e,t.m_bOrderByUrlMatch)<0&&(e=a):e=a}),this.m_TopMatch=e,this.m_bTopMatchIsUptodate=!0}},CEnum.prototype.start=function(e){this.m_elements=e,this.m_enumerated.length=0},CEnum.prototype.stop=function(){this.m_elements=void 0,this.m_enumerated.length=0},CEnum.prototype.next=function(e){if(this.m_elements){for(var t in this.m_elements)if(this.m_elements.hasOwnProperty(t)){var a=this.m_elements[t];if(a&&!(this.m_enumerated.indexOf(a)>=0)&&(this.m_enumerated.push(a),!e||e(a)))return a}this.stop()}};var RfFieldCompare={RfFieldsNotMatch:0,RfFieldsMatchSome:1,RfFieldsMatchNames:2,RfFieldsMatchNamesAndValues:3};function GetAdminCompanyName(e){var t="";if(!e)return t;if(!e.enterprise)return t;var a=e.companies;if(!a||!a.length)return t;for(var r=0;r<a.length;r++)if(a[r].companyId&&a[r].isAdmin){t=a[r].companyId;break}return t}function CheckIsCompanyAdmin(e){if(!e)return!1;if(!e.enterprise)return!1;var t=e.companies;if(!t||!t.length)return!1;for(var a=0;a<t.length;a++)if(t[a].isAdmin)return!0;return!1}function IsItemFromGroup(e){return!(!e.Shared||!e.company)}}
//# sourceMappingURL=base.js.map